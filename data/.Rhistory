> # Først åpner vi hjelpefilen til adnimerge-packages
> help(package="ADNIMERGE")
>
> # Deretter åpner vi df adnimerge
> load("/Users/ingridrye/Downloads/ADNIMERGE/data/adnimerge.rdata")
> View(adnimerge)
> View(adnimerge)
>
> # Nå begynner vi å bearbeide denne filen. Dette gjøres i to steg: 1) mtp. columns & 2) med tanke på rows
> # Få først oversikt over hvilke columns vi ønsker: (RID, ORIGIPROT, PTID, VISCODE,EXAMDATE, DX.bl, AGE, PTGENDER, PTEDUCAT, APOE4, ADAS13, ADASQ4, MMSE, RAVLT.immediate.bl, RAVLT.learning.bl, RAVLT.forgetting.bl, LDELTOTAL.bl, TRABSCOR.bl)
> # For å velge dette å lagre som ny datafil 'adnimergecol' bruk følgende kode:
> adnimergecol<- dplyr::select ( adnimerge, RID, ORIGPROT, PTID, VISCODE,EXAMDATE, DX.bl, AGE, PTGENDER, PTEDUCAT, APOE4, ADAS13, ADASQ4, MMSE, RAVLT.immediate.bl, RAVLT.learning.bl, RAVLT.forgetting.bl, LDELTOTAL.bl, TRABSCOR.bl)
# Først åpner vi hjelpefilen til adnimerge-packages
help(package="ADNIMERGE")
# Deretter åpner vi df adnimerge
load("/Users/ingridrye/Downloads/ADNIMERGE/data/adnimerge.rdata")
View(adnimerge)
# Nå begynner vi med bearbeding av denne filen. Dette gjøres i to steg, 1) subsetting mtp. columns, og 2) subsetting med tanke på rows.
# Få først oversikt over hvilke columns vi ønsker: (RID, ORIGIPROT, PTID, VISCODE,EXAMDATE, DX.bl, AGE, PTGENDER, PTEDUCAT, APOE4, ADAS13, ADASQ4, MMSE, RAVLT.immediate.bl, RAVLT.learning.bl, RAVLT.forgetting.bl, LDELTOTAL.bl, TRABSCOR.bl)
# For å velge dette å lagre som ny datafil 'adnimergecol' bruk følgende kode:
adnimergecol<- dplyr::select ( adnimerge, RID, ORIGPROT, PTID, VISCODE,EXAMDATE, DX.bl, AGE, PTGENDER, PTEDUCAT, APOE4, ADAS13, ADASQ4, MMSE, RAVLT.immediate.bl, RAVLT.learning.bl, RAVLT.forgetting.bl, LDELTOTAL.bl, TRABSCOR.bl)
View(adnimergecol)
View(adnimergecol)
# Prøver en gang å filtrere rows mtp. VISDOE == 'bl' & DX.bl == 'LMCI'
mergereduced<- filter(adnimergecol, DX.bl == "LMCI" & VISCODE == "bl")
# Siden dette ikke fungerte av en eller annen grunn så driter vi i det. Går heller over til å forberede NEUROBAT DATAFIL
######### NEUROBAT PREPROSSESSERING ##########
View(neurobat)
load("/Users/ingridrye/Downloads/ADNIMERGE/data/neurobat.rdata")
View(neurobat)
# Først Seecting wanted columns from neurobat (se google doc sheet 'Tabell Assessments ADNI phases') in addittion to refrence columns suhc as PTID, VISCODE etc....
# For å gjøre dette, bruk koden:
neurobatcol<- dplyr::select ( neurobat, ORIGPROT, COLPROT,  SITEID, VISCODE, USERDATE, USERDATE2, CLOCKSCOR, COPYSCOR, CATANIMSC, TRAASCOR, TRABSCOR, ANARTERR, LIMMTOTAL, LDELTOTAL)
View(neurobatcol)
#### FEIL! Denne versjonen ble uten 'RID' - prøver igjen og kaller den neurobatcol2
neurobatcol<- dplyr::select ( neurobat, RID, ORIGPROT, COLPROT,  SITEID, VISCODE, USERDATE, USERDATE2, CLOCKSCOR, COPYSCOR, CATANIMSC, TRAASCOR, TRABSCOR, ANARTERR, LIMMTOTAL, LDELTOTAL)
#### DOBBELTFEIL, viste seg at dersom man bare la til 'RID' i koden, ble datafilen oppdatert. lol.
####### Nå har vi to bearbeidede datafiler: 1) adnimergecol & 2) neurobatcol. Begge disse har er utvalg relevante features abstrahert fra respektive originalfiler.
####### Det vi skal gjøre nå er å prøve å merge disse to reduserte tables. Ved å benytte column 'RID' som key.
merge_neurobat<- merge( adnimergecol, neurobatcol, by = c( 'RID' ))
View(merge_neurobat)
View(merge_neurobat)
library(tidyverse)
#### KOM PÅ AT JEG MÅ AKTIVERE tidyverse for å kunne filtrere
# prøver igjen å filtrere 'adnimergecol' mtp. VISCODE == 'bl' & DX.bl == 'bl'
mergereduced<- filter(adnimergecol, DX.bl == "LMCI" & VISCODE == "bl")
View(mergereduced)
View(mergereduced)
# JA FOR FAEN DET FUNKET. Note to self: Husk at libraries må "aktiveres" (eller hva faen det kalles) hver gang...
# Da filtrerer jeg 'neurobatcol' på samme måte (minus 'DX.bl'-column)
neurobatreduced<- filter(neurobatcol, VISCODE == "bl")
View(neurobatreduced)
View(neurobatreduced)
######## Forsøker nå igjen å linke variablene, da det nå er kun en observasjon (row) per 'RID'
adnimerge_neurobat<- merge( mergereduced, neurobatreduced, by = c( 'RID' ))
View(merge_neurobat)
View(merge_neurobat)
View(adnimerge_neurobat)
View(adnimerge_neurobat)
savehistory("~/Desktop/Riktig Skript for å merge adnimerge og neurobat.Rhistory")
setwd("~/Desktop/mcisub")
setwd("~/Desktop/mcisub/src/Ingrid")
# AKTIVERER 'tidyverse'-packages (for å kunne filtrere)
library(tidyverse)
library(dplyr)
#Load bl.csv
marek_bl <- read.csv("bl.csv", TRUE, ',')
View(marek_bl)
#Load bl.csv
read.csv("bl.csv", TRUE, ',')
#Load bl.csv
marek_bl <- read.csv("bl.csv", TRUE, ',')
#Load NEUROBAT.csv
NEUROBAT <- read.csv("NEUROBAT.csv", TRUE, ',')
View(NEUROBAT)
View(marek_bl)
# First we need to create a new temporarily df of neurobat with the columns
# (e.a. scores such as clock total) we want (see table)
neurobat_col <- dplyr::select ( NEUROBAT, SITEID, VISCODE,
USERDATE, USERDATE2, CLOCKSCOR, COPYSCOR,
CATANIMSC, TRAASCOR, TRABSCOR, ANARTERR,
LIMMTOTAL, LDELTOTAL)
View(neurobat_col)
neurobat_bl<- nerobat_col %>% filter(VISCODE=="bl")
# We now filter for only baseline visits
neurobat_bl<- filter(neurobat_col, VISCODE == "bl")
View(neurobat_col)
View(neurobat_col)
View(neurobat_bl)
View(neurobat_bl)
View(NEUROBAT)
View(NEUROBAT)
marek_neurobat <- merge(marek_bl, neurobat_bl, by='RID', all.x = TRUE)
neurobat_col <- dplyr::select ( neurobat, RID, ORIGPROT, COLPROT,  SITEID,
VISCODE, USERDATE, USERDATE2, CLOCKSCOR,
COPYSCOR, CATANIMSC, TRAASCOR, TRABSCOR,
ANARTERR)
neurobat_col <- dplyr::select ( neurobat, RID, ORIGPROT, COLPROT,  SITEID,
VISCODE, USERDATE, USERDATE2, CLOCKSCOR,
COPYSCOR, CATANIMSC, TRAASCOR, TRABSCOR,
ANARTERR)
neurobat_col <- dplyr::select ( NEUROBAT, RID, ORIGPROT, COLPROT,  SITEID,
VISCODE, USERDATE, USERDATE2, CLOCKSCOR,
COPYSCOR, CATANIMSC, TRAASCOR, TRABSCOR,
ANARTERR)
neurobat_col <- dplyr::select ( NEUROBAT, RID, COLPROT,  SITEID,
VISCODE, USERDATE, USERDATE2, CLOCKSCOR,
COPYSCOR, CATANIMSC, TRAASCOR, TRABSCOR,
ANARTERR)
# First we need to create a new temporarily df of neurobat with the columns
# (e.a. scores such as clock total) we want (see table)
neurobat_col <- dplyr::select ( NEUROBAT, RID, SITEID,
VISCODE, USERDATE, USERDATE2, CLOCKSCOR,
COPYSCOR, CATANIMSC, TRAASCOR, TRABSCOR,
ANARTERR)
View(neurobat_col)
neurobat_bl<- filter(neurobat_col, VISCODE == "bl")
View(neurobat_bl)
marek_neurobat <- merge(marek_bl, neurobat_bl, by='RID', all.x = TRUE)
View(marek_neurobat)
View(marek_neurobat)
View(NEUROBAT)
View(NEUROBAT)
View(marek_bl)
marek_bl_red <- dplyr::select ( marek_bl, RID, Subgroup, PTID, PTGENDER, AGE, PTEDUCAT,
EXAMDATE, VISCODE, Years_bl, Month, Month_bl, DX,
DX_bl, RAVLT_learning, RAVLT_immediate_bl,
RAVLT_forgetting_bl, RAVLT_perc_forgetting,
TRABSCOR_bl, CDRSB_bl, APOE4, ADAS13, ADAS13_bl,
FAQ_bl, ORIGPROT, Phase, IMAGEUID, VISCODE2,
MMSCORE, FFLUENCY, GDTOTAL, GDMEMORY, NPISCORE,
MRIs, Visits, )
View(marek_bl)
View(marek_bl)
Wiew(marek_bl_red)
View(marek_bl_red)
View(marek_bl_red)
View(marek_neurobat)
library(tidyverse)
library(dplyr)
marek_bl <- read.csv("bl.csv", TRUE, ',')
View(marek_bl)
marek_bl_red <- dplyr::select ( marek_bl, RID, Subgroup, PTID, PTGENDER, AGE, PTEDUCAT,
EXAMDATE, VISCODE, Years_bl, Month, Month_bl, DX,
DX_bl, RAVLT_learning, RAVLT_immediate_bl,
RAVLT_forgetting_bl, RAVLT_perc_forgetting,
TRABSCOR_bl, CDRSB_bl, APOE4, ADAS13, ADAS13_bl,
FAQ_bl, ORIGPROT, Phase, IMAGEUID, VISCODE2,
MMSCORE, FFLUENCY, GDTOTAL, GDMEMORY, NPISCORE,
MRIs, Visits, )
View(marek_bl_red)
NEUROBAT <- read.csv("NEUROBAT.csv", TRUE, ',')
View(NEUROBAT)
neurobat_col <- dplyr::select ( NEUROBAT, RID, SITEID,
VISCODE, USERDATE, USERDATE2, CLOCKSCOR,
COPYSCOR, CATANIMSC, TRAASCOR, TRABSCOR,
ANARTERR)
View(neurobat_col)
neurobat_bl<- filter(neurobat_col, VISCODE == "bl")
View(neurobat_bl)
marek_neurobat <- merge(marek_bl, neurobat_bl, by='RID', all.x = TRUE)
View(marek_neurobat)
marek_bl <- read.csv("bl.csv", TRUE, ',')
View(marek_bl)
marek_bl_red <- dplyr::select ( marek_bl, RID, Subgroup, PTID, PTGENDER, AGE, PTEDUCAT,
EXAMDATE, VISCODE, Years_bl, Month, Month_bl, DX,
DX_bl, RAVLT_learning, RAVLT_immediate_bl,
RAVLT_forgetting_bl, RAVLT_perc_forgetting,
TRABSCOR_bl, CDRSB_bl, APOE4, ADAS13, ADAS13_bl,
FAQ_bl, ORIGPROT, Phase, IMAGEUID, VISCODE2,
MMSCORE, FFLUENCY, GDTOTAL, GDMEMORY, NPISCORE,
MRIs, Visits, )
View(marek_bl_red)
marek_bl <- read.csv("bl.csv", TRUE, ',')
View(marek_bl)
marek_bl_red <- dplyr::select ( marek_bl, RID, Subgroup, PTID, PTGENDER, AGE, PTEDUCAT,
EXAMDATE, VISCODE, Years_bl, Month, Month_bl, DX,
DX_bl, RAVLT_learning, RAVLT_immediate_bl,
RAVLT_forgetting_bl, RAVLT_perc_forgetting,
TRABSCOR_bl, CDRSB_bl, APOE4, ADAS13, ADAS13_bl,
FAQ_bl, ORIGPROT, Phase, IMAGEUID, VISCODE2,
MMSCORE, FFLUENCY, NPISCORE,
MRIs, Visits, )
View(marek_bl_red)
marek_bl_red <- dplyr::select ( marek_bl, RID, Subgroup, PTID, PTGENDER, AGE, PTEDUCAT,
EXAMDATE, VISCODE, Years_bl, Month, Month_bl, DX,
DX_bl, RAVLT_learning, RAVLT_immediate_bl,
RAVLT_forgetting_bl, RAVLT_perc_forgetting,
TRABSCOR_bl, CDRSB_bl, APOE4, ADAS13, ADAS13_bl,
FAQ_bl, ORIGPROT, Phase, IMAGEUID, VISCODE2,
FFLUENCY, NPISCORE,
MRIs, Visits, )
View(marek_bl_red)
marek_bl_red <- dplyr::select ( marek_bl, RID, Subgroup, PTID, PTGENDER, AGE, PTEDUCAT,
EXAMDATE, VISCODE, Years_bl, Month, Month_bl, DX,
DX_bl, RAVLT_learning, RAVLT_immediate_bl,
RAVLT_forgetting_bl, RAVLT_perc_forgetting,
TRABSCOR_bl, CDRSB_bl, APOE4, ADAS13, ADAS13_bl,
FAQ_bl, ORIGPROT, Phase, IMAGEUID, VISCODE2,
FFLUENCY, NPISCORE,
MRIs, Visits, )
View(marek_bl_red)
marek_bl_red <- dplyr::select ( marek_bl, RID, Subgroup, PTID, PTGENDER, AGE, PTEDUCAT,
EXAMDATE, VISCODE, DX,
DX_bl, RAVLT_learning, RAVLT_immediate_bl,
RAVLT_forgetting_bl, RAVLT_perc_forgetting,
TRABSCOR_bl, CDRSB_bl, APOE4, ADAS13, ADAS13_bl,
FAQ_bl, ORIGPROT, Phase, IMAGEUID, VISCODE2,
FFLUENCY, NPISCORE,
MRIs, Visits, )
View(marek_bl_red)
marek_bl_red <- dplyr::select ( marek_bl, RID, Subgroup, PTID, PTGENDER, AGE, PTEDUCAT,
EXAMDATE, VISCODE, DX,
DX_bl, RAVLT_learning, RAVLT_immediate_bl,
RAVLT_forgetting_bl, RAVLT_perc_forgetting,
TRABSCOR_bl, CDRSB_bl, APOE4, ADAS13, ADAS13_bl,
FAQ_bl, ORIGPROT, Phase, IMAGEUID, VISCODE2,
FFLUENCY, NPISCORE,
MRIs, Visits, )
View(marek_bl_red)
marek_bl_red <- dplyr::select ( marek_bl, RID, Subgroup, PTID, PTGENDER, AGE, PTEDUCAT,
EXAMDATE, VISCODE, DX,
DX_bl, RAVLT_learning, RAVLT_immediate_bl,
RAVLT_forgetting_bl, RAVLT_perc_forgetting,
TRABSCOR_bl, CDRSB_bl, APOE4, ADAS13, ADAS13_bl,
FAQ_bl, ORIGPROT, Phase, IMAGEUID, VISCODE2,
NPISCORE, MRIs, Visits, )
View(marek_bl_red)
marek_bl_red <- dplyr::select ( marek_bl, RID, Subgroup, PTID, PTGENDER, AGE, PTEDUCAT,
EXAMDATE, VISCODE, DX,
DX_bl, RAVLT_learning, RAVLT_immediate_bl,
RAVLT_forgetting_bl, RAVLT_perc_forgetting,
TRABSCOR_bl, CDRSB_bl, APOE4, ADAS13, ADAS13_bl,
FAQ_bl, ORIGPROT, Phase, IMAGEUID, VISCODE2,
NPISCORE, MRIs, Visits, )
View(marek_bl_red)
marek_bl_red <- dplyr::select ( marek_bl, RID, Subgroup, PTID, PTGENDER, AGE, PTEDUCAT,
EXAMDATE, VISCODE, DX, DX_bl, RAVLT_learning,
RAVLT_immediate_bl, RAVLT_forgetting_bl,
RAVLT_perc_forgetting, TRABSCOR_bl, CDRSB_bl,
APOE4, ADAS13, ADAS13_bl, FAQ_bl, ORIGPROT,
Phase, IMAGEUID, VISCODE2, NPISCORE, MRIs, Visits, )
View(marek_bl_red)
marek_bl_red <- dplyr::select ( marek_bl, RID, Subgroup, PTID, PTGENDER, AGE, PTEDUCAT,
EXAMDATE, VISCODE, DX, DX_bl, RAVLT_learning,
RAVLT_immediate_bl, RAVLT_forgetting_bl,
RAVLT_perc_forgetting, TRABSCOR_bl, CDRSB_bl,
APOE4, ADAS13, ADAS13_bl, FAQ_bl, ORIGPROT,
Phase, IMAGEUID, VISCODE2, NPISCORE, MRIs, Visits, )
View(marek_bl_red)
NEUROBAT <- read.csv("NEUROBAT.csv", TRUE, ',')
View(NEUROBAT)
neurobat_col <- dplyr::select ( NEUROBAT, RID, SITEID,
VISCODE, USERDATE, USERDATE2, CLOCKSCOR,
COPYSCOR, CATANIMSC, TRAASCOR, TRABSCOR,
ANARTERR)
View(neurobat_col)
neurobat_bl<- filter(neurobat_col, VISCODE == "bl")
View(neurobat_bl)
neurobat_bl<- filter(neurobat_col, VISCODE == "bl")
View(neurobat_bl)
marek_neurobat <- merge(marek_bl, neurobat_bl, by='RID', all.x = TRUE)
View(marek_neurobat)
marek_neurobat <- merge(marek_bl_red, neurobat_bl, by='RID', all.x = TRUE)
View(marek_neurobat)
############ ONLY THING LEFT TO DO IS TO SAVE THIS FILE AS .csv ################
getwd()
write_csv(marek_neurobat, file="marek_neurobat.csv", sep=',')
write_csv(marek_neurobat, file="marek_neurobat.csv")
write_csv(neurobat_bl, file="neurobatred_bl.csv")
write_csv(marek_bl_red, file="marek_red_bl.csv")
install.packages("/Users/ingridrye/Downloads/ADNIMERGE_0.0.1.tar.gz", repos = NULL, type = "source")
help(package="ADNIMERGE")
load("/Users/ingridrye/Downloads/ADNIMERGE/data/neurobat.rdata")
load("/Users/ingridrye/Downloads/ADNIMERGE/data/adnimerge.rdata")
View(adnimerge)
View(adnimerge)
load("/Users/ingridrye/Downloads/ADNIMERGE/data/cdr.rdata")
View(cdr)
View(cdr)
mem <- read.csv("bl_full_memory.csv", TRUE, ',')
View(mem)
mem <- read.csv("bl_full_memory.csv", TRUE, ',')
install.packages("/Users/ingridrye/Downloads/ADNIMERGE_0.0.1.tar.gz", repos = NULL, type = "source")
help(package="ADNIMERGE")
setwd("~/Desktop/123/data/data2")
setwd("~/123")
setwd("~/Desktop/123/data/data2")
setwd("~/123/data/data2")
## AKTIVERER 'tidyverse'-packages (for å kunne filtrere)
library(tidyverse)
view(neurobat)
view(MMSE)
open(MMSE)
view(dxsum)
view(dxsum)
view(dxsum)
